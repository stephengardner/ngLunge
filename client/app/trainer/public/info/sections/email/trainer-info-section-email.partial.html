<md-card>
    <md-toolbar>
        <div class="md-toolbar-tools">
            <h2>
                <span>Email</span>
            </h2>
            <span flex></span>
            <md-button md-ink-ripple class="md-icon-button" ng-click="toggleEditing()">
                <i  class="material-icons">mode_edit</i>
            </md-button>
        </div>
    </md-toolbar>
    <form id="form"
          ng-submit="changeEmail(form)"
          name="form">
        <md-card-content cg-busy="{promise : cgBusy}">
            <div ng-if="!editing">
                <div class="info-row">
                    <div class="name" flex="50">
                        Email
                    </div>
                    <div class="value" flex=40>
                        {{trainerFactory.trainer.email}}
                    </div>
                </div>
            </div>
            <div ng-if="editing">
                <ag-floating-label>
                    <label>
                        Email
                    </label>
                    <input name="email"
                           ng-model="trainerFactory.trainerEditing.email"
                           ng-change="removeMongooseError(form, 'email')"/>
                    <div ng-messages="form.email.$error" class="md-auto-hide">
                        <div ng-message="mongoose">{{errors.email}}</div>
                    </div>
                </ag-floating-label>
            </div>
        </md-card-content>
        <md-card-actions ng-if="editing" layout="row" layout-align="end center">
            <md-button type="submit">Save</md-button>
            <md-button ng-click="toggleEditing()">Cancel</md-button>
        </md-card-actions>
    </form>
</md-card>