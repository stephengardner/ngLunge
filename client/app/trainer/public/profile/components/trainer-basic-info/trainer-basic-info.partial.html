<form class="form sm"
      ng-submit="updateBasicInfo(form)"
      name="form"
      novalidate>
    <div id="basic-info"
         ng-if="userFactory.user.name"
         class="section-animate-in">
        <!-- Basic Info, Not Editing -->
        <div class="basic-info-inner">
            <a ui-sref="main.trainer.account.edit-profile"
               ng-if="userFactory.isMe()"
               md-button
               class="edit md-icon-button">
                <i class="material-icons">edit</i>
            </a>
            <div layout-padding>
                <div class="name item">
                    <h1>
                        {{userFactory.user.name.full}}
                    </h1>
                </div>
                <div class="item">
                    <h3 ng-if="!userFactory.user.location.city">
                        No location set
                    </h3>
                    <h3 ng-if="userFactory.user.location.city">
                        {{userFactory.user.location.cityState}}
                    </h3>
                </div>
                <div id="trainer-rating">
                    <md-tooltip md-direction="right"
                                md-delay="500"
                                ng-if="userFactory.user.rating_average_stars">
                        {{userFactory.user.rating_average_stars | limitTo : 4 : 0}}
                        star avg /
                        {{userFactory.user.rating_average_count}}
                        {{userFactory.user.rating_average_count == 1 ? ' review' : 'reviews' }}
                    </md-tooltip>
                    <md-tooltip ng-if="!userFactory.user.rating_average_stars"
                                md-direction="right"
                                md-delay="500">
                        Not yet rated
                    </md-tooltip>
                    <ag-rating-stars static="1"
                                     ng-model="userFactory.user.rating_average_stars">
                    </ag-rating-stars>
                </div>
                <div id="headline" class="item">
                    {{userFactory.user.headline.value ? userFactory.user.headline.value : '' }}
                </div>
                <div id="bio" class="item" ng-if="userFactory.user.bio" style="white-space: pre-line;">
                    {{userFactory.user.bio}}
                </div>
                <div class="social-links item">
                    <md-button ng-if="userFactory.user.facebook"
                               class="md-icon-button sync-icon active sync-facebook"
                               target="_blank"
                               ng-href="{{userFactory.user.facebook.link}}">
                        <md-tooltip md-delay="500" md-direction="top">
                            {{userFactory.user.name.first}}'s Facebook page
                        </md-tooltip>
                        <ng-md-icon icon="facebook"></ng-md-icon>
                    </md-button>
                    <md-button ng-if="userFactory.user.instagram"
                               class="md-icon-button sync-icon active sync-linkedin"
                               target="_blank"
                               ng-href="{{userFactory.user.linkedin.link}}">
                        <md-tooltip md-delay="500" md-direction="top">
                            {{userFactory.user.name.first}}'s LinkedIn page
                        </md-tooltip>
                        <ng-md-icon icon="linkedin"></ng-md-icon>
                    </md-button>
                    <md-button ng-if="userFactory.user.instagram"
                               class="md-icon-button sync-icon active sync-instagram"
                               target="_blank"
                               ng-href="{{userFactory.user.instagram.link}}">
                        <md-tooltip md-delay="500" md-direction="top">
                            {{userFactory.user.name.first}}'s Instagram page
                        </md-tooltip>
                        <i class="fa fa-instagram"></i>
                    </md-button>
                    <md-button ng-if="userFactory.user.twitter"
                               class="md-icon-button sync-icon active sync-twitter"
                               target="_blank"
                               ng-href="{{userFactory.user.twitter.link}}">
                        <md-tooltip md-delay="500" md-direction="top">
                            {{userFactory.user.name.first}}'s Twitter page
                        </md-tooltip>
                        <ng-md-icon icon="twitter"></ng-md-icon>
                    </md-button>
                    <md-button ng-if="userFactory.user.website"
                               class="md-icon-button sync-icon active"
                               target="_blank"
                               ng-href="{{userFactory.user.website}}">
                        <md-tooltip md-delay="500" md-direction="top">
                            {{userFactory.user.name.first}}'s Website
                        </md-tooltip>
                        <i class="material-icons">link</i>
                    </md-button>
                </div>
                <div id="experience"
                     layout="row" layout-align="end center"
                     class="item"
                     ng-if="userFactory.user.years_of_experience.value &&
                     userFactory.user.years_of_experience.value != '-'">
                    <i class="material-icons">work</i>
                    <span>
                        {{userFactory.user.years_of_experience.value}}
                        {{userFactory.user.years_of_experience.value > 1 ? 'years' : 'year'}}
                        of personal training experience
                    </span>
                </div>
            </div>
        </div>
    </div>
</form>
