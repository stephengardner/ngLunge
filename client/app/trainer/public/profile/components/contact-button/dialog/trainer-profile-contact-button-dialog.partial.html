<md-dialog id="contactTrainerDialog" class="flexible-dialog-sm">
    <form novalidate
          name="contactForm"
          cg-busy="{promise : cgBusy}"
          ng-submit="vm.submit(contactForm)">
        <md-toolbar>
            <div class="md-toolbar-tools">
                <h2>
                    Send {{vm.trainerFactory.trainer.name.first}} a message
                </h2>
                <span flex></span>
                <md-button class="md-icon-button" ng-click="vm.close()">
                    <md-icon aria-label="Close dialog">close</md-icon>
                </md-button>
            </div>
        </md-toolbar>
        <div class="loggedInAs">
            You are logged in as:
            <strong>
                {{vm.currentUser.name.full}}
            </strong>
        </div>
        <md-dialog-content layout-padding>
            <div ng-if="vm.isLoggedIn()">
                <div flex layout="row" layout-align="start start">
                    <div flex layout="row" layout-align="start start">
                        <div flex>
                            <ag-floating-label>
                                <label>
                                    Message *
                                </label>
                                <ag-icon>
                                    <i class="material-icons">message</i>
                                </ag-icon>
                    <textarea rows="5"
                              name="message"
                              style="height:100px;"
                              server-error
                              required
                              ng-model="vm.inquiry.message">
                    </textarea>
                                <div ng-messages="contactForm.message.$error">
                                    <div ng-message="required">Message is required</div>
                                    <div ng-message="mongoose">{{contactForm.errors.message}}</div>
                                </div>
                            </ag-floating-label>
                        </div>
                    </div>
                </div>
                <div ng-if="!isLoggedIn()">

                </div>
        </md-dialog-content>
        <md-dialog-actions>
            <md-button type="submit">
                Send
            </md-button>
            <md-button ng-click="vm.close()">
                Cancel
            </md-button>
        </md-dialog-actions>
    </form>
</md-dialog>